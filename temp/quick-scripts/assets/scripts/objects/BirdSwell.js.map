{"version":3,"sources":["BirdSwell.js"],"names":["BirdObject","require","cc","Class","extends","properties","onLoad","init","fragmentType","onSkill","event","collider","node","addComponent","PhysicsCircleCollider","nodeSize","getContentSize","offset","radius","multiplier","blood_max","Math","pow","blood","setContentSize","width","height","Vec2","x","y","type","imageId","getComponent","Sprite","spriteImage"],"mappings":";;;;;;AACA;;AADA,IAAMA,aAAaC,QAAQ,YAAR,CAAnB;;;AAGAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,UADJ;;AAGLK,gBAAY,EAHP;;AAOLC,YAAS,kBAAY;AACjB,aAAKC,IAAL,CAAU,YAAV;AACA;AACA,aAAKC,YAAL,GAAoB,cAApB;AACH,KAXI;;AAaL;AACAC,aAAU,iBAASC,KAAT,EAAe;AACrB;AACA,YAAIC,WAAW,KAAKC,IAAL,CAAUC,YAAV,CAAuBX,GAAGY,qBAA1B,CAAf;AACA,YAAIC,WAAW,KAAKH,IAAL,CAAUI,cAAV,EAAf;AACA,YAAIC,SAASN,SAASM,MAAtB;AACA,YAAIC,SAASP,SAASO,MAAtB;AACA;AACA,YAAIC,aAAa,CAAjB;AACA,aAAKC,SAAL,IAAkBC,KAAKC,GAAL,CAASH,UAAT,EAAqB,CAArB,CAAlB;AACA,aAAKI,KAAL,IAAcF,KAAKC,GAAL,CAASH,UAAT,EAAqB,CAArB,CAAd;AACA;AACA,aAAKP,IAAL,CAAUY,cAAV,CAAyBT,SAASU,KAAT,GAAiBN,UAA1C,EAAsDJ,SAASW,MAAT,GAAkBP,UAAxE;AACAR,iBAASO,MAAT,GAAkBA,SAASC,UAA3B;AACAR,iBAASM,MAAT,GAAkB,IAAIf,GAAGyB,IAAP,CAAYV,OAAOW,CAAP,GAAWT,UAAvB,EAAmCF,OAAOY,CAAP,GAAWV,UAA9C,CAAlB;AACA;AACA,aAAKW,IAAL,GAAY,gBAAZ;AACA,aAAKC,OAAL,GAAe,CAAf;AACA,kCAAa,KAAKnB,IAAL,CAAUoB,YAAV,CAAuB9B,GAAG+B,MAA1B,CAAb,EAAgD,KAAKC,WAAL,GAAmB,KAAKJ,IAAxB,GAA+B,GAA/B,GAAqC,KAAKC,OAA1C,GAAoD,MAApG;AACH;AAhCI,CAAT","file":"BirdSwell.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\objects","sourcesContent":["const BirdObject = require(\"BirdObject\")\r\nimport {spriteUpdate} from '../utils/common';\r\n\r\ncc.Class({\r\n    extends: BirdObject,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    onLoad : function () {\r\n        this.init('bird_swell');\r\n        //碎屑类型\r\n        this.fragmentType = \"FragmentBird\";\r\n    },\r\n\r\n    // 技能\r\n    onSkill : function(event){\r\n        /* 膨胀鸟技能 */\r\n        let collider = this.node.addComponent(cc.PhysicsCircleCollider);\r\n        let nodeSize = this.node.getContentSize();\r\n        let offset = collider.offset;\r\n        let radius = collider.radius;\r\n        // 放大乘数\r\n        let multiplier = 3;\r\n        this.blood_max *= Math.pow(multiplier, 3);\r\n        this.blood *= Math.pow(multiplier, 3);\r\n        // 放大\r\n        this.node.setContentSize(nodeSize.width * multiplier, nodeSize.height * multiplier);\r\n        collider.radius = radius * multiplier;\r\n        collider.offset = new cc.Vec2(offset.x * multiplier, offset.y * multiplier);\r\n        // 换图片\r\n        this.type = 'bird_swell_big';\r\n        this.imageId = 0;\r\n        spriteUpdate(this.node.getComponent(cc.Sprite), this.spriteImage + this.type + \"_\" + this.imageId + \".png\");\r\n    },\r\n});\r\n"]}