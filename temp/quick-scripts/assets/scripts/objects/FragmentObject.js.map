{"version":3,"sources":["FragmentObject.js"],"names":["cc","Class","extends","Component","properties","type","duration","velocityMax","init","imageId","node","getComponent","Sprite","spriteImage","scheduleOnce","_onDeath","setVelocity","vel_x","vel_y","rigid","RigidBody","linearVelocity","Vec2","destroy"],"mappings":";;;;;;AAAA;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,cAAO,EAFC;AAGR;AACAC,kBAAW,CAJH;AAKR;AACAC,qBAAc;AANN,KAHP;;AAYL;AACAC,UAAO,cAASC,OAAT,EAAiB;AACpB,kCAAa,KAAKC,IAAL,CAAUC,YAAV,CAAuBX,GAAGY,MAA1B,CAAb,EAAgD,KAAKC,WAAL,GAAmB,KAAKR,IAAxB,GAA+B,GAA/B,GAAqCI,OAArC,GAA+C,MAA/F;AACA,aAAKK,YAAL,CAAkB,YAAU;AACxB,iBAAKC,QAAL;AACH,SAFD,EAEG,KAAKT,QAFR;AAGH,KAlBI;;AAoBL;AACAU,iBAAc,qBAASC,KAAT,EAAgBC,KAAhB,EAAsB;AAChC,YAAIC,QAAQ,KAAKT,IAAL,CAAUC,YAAV,CAAuBX,GAAGoB,SAA1B,CAAZ;AACAD,cAAME,cAAN,GAAuB,IAAIrB,GAAGsB,IAAP,CAAYL,KAAZ,EAAmBC,KAAnB,CAAvB;AACH,KAxBI;;AA0BL;AACAH,cAAW,oBAAU;AACjB;AACA,aAAKL,IAAL,CAAUa,OAAV;AACH;AA9BI,CAAT","file":"FragmentObject.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\objects","sourcesContent":["import {spriteUpdate} from '../utils/common';\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //类型\r\n        type : '',\r\n        // 存活时间 /s\r\n        duration : 0,\r\n        // 最大速度\r\n        velocityMax : 100,\r\n    },\r\n\r\n    // 出现\r\n    init : function(imageId){\r\n        spriteUpdate(this.node.getComponent(cc.Sprite), this.spriteImage + this.type + \"_\" + imageId + \".png\");\r\n        this.scheduleOnce(function(){\r\n            this._onDeath();\r\n        }, this.duration);\r\n    },\r\n\r\n    // 设置刚体速度\r\n    setVelocity : function(vel_x, vel_y){\r\n        let rigid = this.node.getComponent(cc.RigidBody);\r\n        rigid.linearVelocity = new cc.Vec2(vel_x, vel_y);\r\n    },\r\n\r\n    // 死亡处理\r\n    _onDeath : function(){\r\n        // 动画效果\r\n        this.node.destroy();\r\n    },\r\n});\r\n"]}